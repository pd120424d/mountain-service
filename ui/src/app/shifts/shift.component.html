<div class="shift-container">
  <h2 class="title">{{ 'SHIFT_MANAGEMENT.TITLE' | translate }}</h2>

  <div *ngFor="let shiftType of [1, 2, 3]" class="shift-card">
    <h3 class="shift-title">
      {{ 'SHIFT_MANAGEMENT.SHIFT' | translate }} {{ shiftType }}
    </h3>

    <div class="shift-info">
      <p>
        {{ 'SHIFT_MANAGEMENT.MEDICS' | translate }}:
        <strong>{{ getAvailableMedics(shiftType) }}</strong>
      </p>
      <p>
        {{ 'SHIFT_MANAGEMENT.TECHNICALS' | translate }}:
        <strong>{{ getAvailableTechnicals(shiftType) }}</strong>
      </p>
    </div>

    <div *ngIf="canModifyOthers()" class="admin-actions">
      <label for="employeeSelect-{{ shiftType }}">{{ 'SHIFT_MANAGEMENT.SELECT_EMPLOYEE' | translate }}</label>
      <select #selectedEmployee id="employeeSelect-{{ shiftType }}" class="select">
        <option value="">-- {{ 'SHIFT_MANAGEMENT.SELECT_EMPLOYEE' | translate }} --</option>
        <option *ngFor="let e of employees" [value]="e.id">
          {{ e.firstName }} {{ e.lastName }}
        </option>
      </select>

      <div class="button-group">
        <button
          class="btn assign"
          (click)="assignToShift(shiftType, selectedEmployee.value)"
          [disabled]="!selectedEmployee.value"
        >
          {{ 'SHIFT_MANAGEMENT.ASSIGN' | translate }}
        </button>

        <button
          class="btn remove"
          (click)="removeFromShift(shiftType, selectedEmployee.value)"
          [disabled]="!selectedEmployee.value"
        >
          {{ 'SHIFT_MANAGEMENT.REMOVE' | translate }}
        </button>
      </div>
    </div>

    <div *ngIf="!canModifyOthers()" class="user-actions">
      <div class="button-group">
        <button class="btn add-me" (click)="assignToShift(shiftType)">
          {{ 'SHIFT_MANAGEMENT.ASSIGN' | translate }}
        </button>

        <button class="btn remove-me" (click)="removeFromShift(shiftType)">
          {{ 'SHIFT_MANAGEMENT.REMOVE' | translate }}
        </button>
      </div>
    </div>

    <hr />
  </div>
</div>
